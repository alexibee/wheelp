
<div class="container">
  <h2>All services listed</h2>

  <%= link_to "Create a service", new_service_path, class: "cta-button" %>

  <div class="search-bar">
    <%= simple_form_for :service, method: "GET", html: { class: 'mt-3', data: { geocoder_target: "address" } } do |f| %>
      <%= f.input :address, placeholder: 'Search by city, country, address', label:false, input_html: {value: ""} %>
    <div class="center-button">
      <%= f.submit "Search", class: "cta-button", id:"service" %>
    </div>
    <% end %>
  </div>
  <div class="d-flex">
    <% if @services.empty? %>
      <h3> <%= @message %> </h3>
    <% else %>
      <%= render "shared/index_page_card" %>
    <% end %>
    <div class="mt-3" style="width: 100%; height: 100vh;"
      data-controller="mapbox"
      data-mapbox-markers-value="<%= @markers.to_json %>"
      data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>
